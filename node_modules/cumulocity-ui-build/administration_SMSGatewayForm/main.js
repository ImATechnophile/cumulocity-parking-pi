/* administration_SMSGatewayForm 8.21.0 2018-01-30T22:07:40+00:00 ab57d6f7e859+ (release/8.21.0) r8.21.0 */
!function(){"use strict";function e(e,a,t){e.addNavigation({parent:t("Settings"),name:t("OpenIT credentials"),path:"smsgateway",icon:"envelope-o",priority:1e3}),a.when("/smsgateway",{templateUrl:"administration_SMSGatewayForm/views/smsGateway.html"})}angular.module("c8y.parts.smsGateway",[]).config(["c8yNavigatorProvider","c8yViewsProvider","gettext",e])}(),function(){"use strict";function e(e,a,t,n,s,r,i,o){function l(){d(),t.getSMSGatewayUsername().then(function(a){var t=a.data.value;e.hasCredentials=!0,e.credentials={usernameOpenIT:t,passwordOpenIT:""}},function(){e.hasCredentials=!1,e.credentials={usernameOpenIT:"",passwordOpenIT:""}})}function d(){s.changeTitle({title:i("OpenIT credentials")})}function c(a){t.updateSMSGatewayInfo(e.credentials.usernameOpenIT,e.credentials.passwordOpenIT).then(function(){e.hasCredentials=!0,p("passwordOpenIT"),n.success(i("Credentials successfully updated")),a.$setPristine()})}function u(a){return r({title:i("Confirm delete?"),body:i("Deleting credentials will lock out any users with SMS-based two-factors authentication, and disable the SMS-based smart rules and device communication. Are you sure you want to delete your OpenIT credentials?"),status:"danger"}).then(function(){t.deleteSMSGatewayCredentials().then(function(){e.hasCredentials=!1,n.success(i("Credentials successfully deleted")),a.$setPristine(),p("usernameOpenIT"),p("passwordOpenIT")})})}function p(a){e.credentials[a]="",e.SMSGatewayForm[a].$setPristine(!0)}e.updateSMSGatewayInfo=c,e.validationHints=a.validationHints,e.invalid=_.partial(a.invalid,e,"SMSGatewayForm"),e.errorList={required:i("This field is required!")},e.deleteCredentials=u,l()}angular.module("c8y.parts.smsGateway").controller("smsGatewayCtrl",["$scope","c8yBase","c8ySMSGateway","c8yAlert","c8yTitle","c8yModal","gettext","gettextCatalog",e])}(),function(){"use strict";function e(e){var a;a='<div class="row" ng-controller="smsGatewayCtrl">\n  <div class="col-xs-12 col-sm-10 col-md-8 col-lg-6">\n    <form class="card" name="SMSGatewayForm" ng-submit="updateSMSGatewayInfo()" novalidate>\n      <div class="card-header">\n        <h4 class="card-title" translate>Credentials</h4>\n      </div>\n      <hr>\n      <div class="card-block">\n        <p class="bottom-m" translate>Please enter your credentials from your SMS provider.  This enables platform features that utilize SMS services (e.g. two-factor authentication and user notifications).</p>\n        <div class="form-group" ng-class="{\'has-error\': invalid(\'usernameOpenIT\')}">\n          <label for="usernameOpenIT" translate>Username</label>\n          <input class="form-control input-border" ng-model="credentials.usernameOpenIT" id="usernameOpenIT" name="usernameOpenIT" type="text" c8y-autocomplete="off" required>\n        </div>\n        <div class="form-group" ng-class="{\'has-error\': invalid(\'passwordOpenIT\')}">\n          <label for="passwordOpenIT" translate>Password</label>\n          <input class="form-control input-border" ng-model="credentials.passwordOpenIT" id="passwordOpenIT" name="passwordOpenIT" type="password" c8y-autocomplete="off" required>\n        </div>\n      </div>\n      <div class="card-footer">\n        <button type="button" class="btn btn-default" ng-click="deleteCredentials(SMSGatewayForm)" ng-disabled="!hasCredentials" translate>\n          Delete\n        </button>\n        <button type="submit" class="btn btn-primary" ng-disabled="SMSGatewayForm.$invalid" translate>\n          Save\n        </button>\n      </div>\n    </form>\n  </div>\n</div>\n',e.put("administration_SMSGatewayForm/views/smsGateway.html",a),e.put("/apps/administration/SMSGatewayForm/views/smsGateway.html",a)}angular.module("c8y.parts.smsGateway").run(["$templateCache",e])}();