/* administration_auditLogs 8.21.0 2018-01-30T22:07:39+00:00 ab57d6f7e859+ (release/8.21.0) r8.21.0 */
!function(){"use strict";function t(t,e,i){t.addNavigation({parent:i("Accounts"),name:i("Audit logs"),path:"audit-logs",icon:"archive",priority:4800}),e.when("/audit-logs",{templateUrl:"administration_auditLogs/views/list.html"})}t.$inject=["c8yNavigatorProvider","c8yViewsProvider","gettext"],angular.module("c8y.auditLogs",[]).config(t)}(),function(){function t(t,e,i){t.paging=null,e.changeTitle({title:i("Audit logs")})}angular.module("c8y.auditLogs").controller("auditLogsCtrl",["$scope","c8yTitle","gettext",t])}(),function(){"use strict";function t(t){function e(e,i,n,a){e.dateOpen={},e.viewFilter={},e.types=t.types,a.$render=function(){if(a.$isEmpty(a.$viewValue))return e.viewFilter={};var t=e.viewFilter,i=a.$viewValue;t.type=i.type,t.user=i.user,t.dateFrom=i.dateFrom&&new Date(i.dateFrom),t.dateTo=i.dateTo&&new Date(i.dateTo)},e.apply=function(){var t=_.cloneDeep(e.viewFilter),i=function(e,i){t[e]&&(t[e]=moment(t[e]).add(i,"days").toISOString())};_.forEach({0:"dateFrom",1:"dateTo"},i),a.$setViewValue(t)},e.open=function(t){e.dateOpen[t]=!0},e.clear=function(){e.viewFilter={},a.$setViewValue({})},e.anyFilter=function(){return _.some(_.assign({},a.$modelValue,e.viewFilter),_.identity)}}return{require:"ngModel",restrict:"EA",link:e,templateUrl:"administration_auditLogs/views/filter.html",scope:{}}}angular.module("c8y.auditLogs").directive("auditLogsFilter",["c8yAudits",t])}(),function(){"use strict";function t(t){var e;e='<form class="form-inline" ng-submit="apply()">\n    <div class="c8y-select-wrapper">\n      <select name="type" class="form-control" ng-model="viewFilter.type" ng-options="key as (label | translate) for (key, label) in types | orderBy:\'label\'">\n        <option value="" selected="selected">{{\'All types\' | translate}}</option>\n      </select>\n      <span></span>\n    </div>\n\n    <div class="form-group datepicker">\n      <input name="dateFrom" class="form-control" placeholder="{{\'Date from\' | translate}}" datepicker-options="{maxDate: viewFilter.dateTo}" ng-model="viewFilter.dateFrom" uib-datepicker-popup datepicker-append-to-body="true" show-button-bar="false" show-weeks="false" is-open="dateOpen.from" ng-click="open(\'from\')">\n    </div>\n\n    <div class="form-group datepicker">\n      <input name="dateTo" class="form-control" placeholder="{{\'Date to\' | translate}}" ng-model="viewFilter.dateTo" uib-datepicker-popup datepicker-append-to-body="true" show-button-bar="false" show-weeks="false" datepicker-options="{minDate: viewFilter.dateFrom}" is-open="dateOpen.to" ng-click="open(\'to\')">\n    </div>\n\n    <input name="user" class="form-control" placeholder="{{\'Who\' | translate}}" ng-model="viewFilter.user">\n\n    <button name="apply" style="display: inline-block; width: auto" type="submit" title="{{\'Apply filters\' | translate}}" class="btn btn-link">\n      <i c8y-icon="filter"></i>\n      <translate>Filter</translate>\n    </button>\n    <button name="clear" style="display: inline-block; width: auto" title="{{\'Clear filters\' | translate}}" type="button" class="btn btn-link" ng-click="clear()" ng-show="anyFilter()">\n      <i c8y-icon="times"></i>\n    </button>\n  </form>\n',t.put("administration_auditLogs/views/filter.html",e),t.put("/apps/administration/auditLogs/views/filter.html",e),e='<div ng-controller="auditLogsCtrl as ctrl">\n  <c8y-ui-action-bar-set>\n    <li class="navbar-form" action-bar-position="left">\n      <audit-logs-filter ng-model="ctrl.filter">\n      </audit-logs-filter>\n    </li>\n\n    <c8y-refresh-btn style="padding-left:0; padding-right:0"></c8y-refresh-btn>\n  </c8y-ui-action-bar-set>\n\n  <c8y-audit-list paging="paging" refresh="refresh" filter="ctrl.filter" reverse="true" columns="{time: true, text: true, type: true}">\n  </c8y-audit-list>\n</div>\n',t.put("administration_auditLogs/views/list.html",e),t.put("/apps/administration/auditLogs/views/list.html",e)}angular.module("c8y.auditLogs").run(["$templateCache",t])}();