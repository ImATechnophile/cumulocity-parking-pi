/* core_kpi 8.21.0 2018-01-30T22:08:46+00:00 ab57d6f7e859+ (release/8.21.0) r8.21.0 */
angular.module("c8y.parts.kpi",[]).config(["c8yComponentsProvider","gettext",function(e,n){"use strict";e.add({name:"KPI List",nameDisplay:n("Data points list"),description:n("A list displaying current values for chosen measurements"),templateUrl:"core_kpi/views/list.html",configTemplateUrl:"core_kpi/views/listConfig.html",minCol:4,options:{noDeviceTarget:!0}}),e.add({name:"KPI Radial Gauge",nameDisplay:n("Radial Gauge"),description:n("A gauge graph displaying current values for chosen measurements"),templateUrl:"core_kpi/views/gauge.html",configTemplateUrl:"core_kpi/views/gaugeConfig.html",options:{noDeviceTarget:!0}}),e.add({name:"KPI Linear Gauge",nameDisplay:n("Linear Gauge"),description:n("A linear gauge graph displaying current values for chosen measurements"),templateUrl:"core_kpi/views/linearGauge.html",configTemplateUrl:"core_kpi/views/gaugeConfig.html",options:{noDeviceTarget:!0}}),e.add({name:"KPI Silo",nameDisplay:n("Silo"),description:n("A silo displaying current values for chosen measurements"),templateUrl:"core_kpi/views/silo.html",configTemplateUrl:"core_kpi/views/gaugeConfig.html",options:{noDeviceTarget:!0}}),e.add({name:"KPI Graph",nameDisplay:n("Graph"),description:n("A linear graph displaying values for chosen measurements and time interval (deprecated)"),templateUrl:"core_kpi/views/graph.html",configTemplateUrl:"core_kpi/views/graphConfig.html",options:{noNewWidgets:!0}}),e.add({name:"KPI Pie Chart",nameDisplay:n("Pie Chart"),description:n("A pie chart displaying current values for chosen measurements"),templateUrl:"core_kpi/views/pieChart.html",configTemplateUrl:"core_kpi/views/pieChartConfig.html",options:{noDeviceTarget:!0}})}]),function(){function e(e,n,t,i,a){function s(e){return e.data.c8y_Kpi||[]}function r(e,n){var t=n[e.fragment]||{};return t.kpi=e,t.time=n.time,t.source=n.source,t}function l(){return e.deviceId}function o(e){return n.detail(e||l()).then(s)}function c(e,n){return o().then(angular.bind({},d,e,n))}function d(e,n,t){var i=p(e,n,t);return _.forEach(t,function(t){t.fragment===e&&t.series===n&&(i=t)}),i}function p(e,n,t){return{fragment:e,series:n,label:u(e,n),min:0,max:100,color:m(e,n,t)}}function u(e,n){return g(e)+" => "+g(n)}function g(e){return(e||"").replace("c8y_","").replace(/[A-Z]/g," $&").replace(/^\s/,"")}function m(e,n,t){var i=0;return _.forEach(t,function(e){i<x.length&&e.color.toLowerCase()===x[i].toLowerCase()&&i++}),x[i]||"#FFFFFF"}function f(e){return o().then(function(n){var t=!1;return _.forEach(n,function(i,a){i.fragment===e.fragment&&i.series===e.series&&(n[a]=_.cloneDeep(e),t=!0)}),t||n.push(e),n}).then(h)}function h(e){return n.update({id:l(),c8y_Kpi:e})}function v(e){return t.list(_.assign(a.timeOrderFilter(),{revert:!0,fragmentType:e.fragment,source:l(),reverse:!0,pageSize:1})).then(function(e){return e[0]||{}}).then(angular.bind({},r,e))}function y(){var n=e.deviceId,t=R[n]||i.getSupportedMeasurements(n).then(function(e){return e.length>0});return R[n]=t,t}function b(){return i.getSupportedMeasurements(l())}function k(e){return t.list({fragmentType:e,source:l(),pageSize:1,dateFrom:null,dateTo:null}).then(function(e){return e[0]||{}}).then(function(n){return n[e]})}function w(e,n){return k(e).then(function(e){return e[n]})}var x=["#AF81C9","#F89A7E","#F2CA85","#54D1F1","#7C71AD","#445569"],R={};return{list:o,getKpi:c,updateKpi:f,update:h,getMeasurement:v,hasSupportedMeasurements:y,getSupportedMeasurements:b,getSupportedSeries:k,getOneSeries:w,getHumanizedName:g,getKpiFromList:d}}angular.module("c8y.parts.kpi").factory("kpiSvc",["$routeParams","c8yInventory","c8yMeasurements","c8yDevices","c8yBase",e])}(),function(){"use strict";function e(e,n,t,i,a,s,r,l,o){function c(t,i,a){function c(e){D=_.cloneDeep(e),T.deviceIds=f(D),a&&(D.widget=a)}function d(e){return o.listPossibleFast(e).then(h)}function p(){return e.all(_.map(T.deviceIds,u))}function u(n){var t=C(n);return r.addListener(i,t,"CREATE",x),e.when(r.start(i,t))}function g(){return e.all(_.map(T.deviceIds,m))}function m(n){return e.when(r.stop(i,C(n)))}function f(e){var n=e.datapoints||e.kpis||[e.kpi];return _(n).map(I).uniq().value()}function h(n){D.datapoints?T.dataPoints=_(D.datapoints).filter(M).forEach(y):T.dataPoints=_(D.kpis||D.kpi&&[D.kpi]||[]).map(_.partial(v,n)).map(b).value();var t=_.get(D,"widget.templateUrl",""),i=!!t.match("gauge");return i&&T.dataPoints.length>1&&(T.dataPoints=T.dataPoints.slice(0,1)),e.all(_.map(T.dataPoints,k))}function v(e,n){var t=n.moId&&_.find(e,{_kpiId:n.moId});return t||n}function y(e){s.createLocalId(e,"id")}function b(e){var n=_.assign({},e,{id:e.moId});return n.id||s.createLocalId(n),n}function k(e){return l.getMeasurement(e,I(e),1).then(_.partial(w,e))}function w(e,n){return T.measurements[e.id]=n[e.series],T.times[e.id]=n.time,n}function x(e,n){var t=n;t&&(_.forEach(t,function(e,i){_.isObjectLike(e)&&_.forEach(e,function(e,a){var s=R(t.source.id,i,a);_.forEach(s,function(t){T.measurements[t.id]=e,T.times[t.id]=n.time})})}),E&&E())}function R(e,n,t){return _.filter(T.dataPoints,function(i){return I(i)===e&&i.fragment===n&&i.series===t})}function M(e){return!("__active"in e)||e.__active}function I(e){return _.get(e,"__target.id")||_.get(D,"device.id")||n.deviceId}function C(e){return"/measurements/"+e}this.measurements=null,this.dataPoints=null,this.times=null,this.deviceIds=null;var T=this,E=void 0,V=!1,S=!1,D=void 0;c(t),this.start=function(){if(V)throw new Error("MostRecentKpi service instance cannot be started more than once");return V=!0,T.refresh().then(p)},this.refresh=function(){return T.dataPoints=[],T.measurements={},T.times={},e.all(_.map(T.deviceIds,d))},this.stop=function(){if(!V)throw new Error("MostRecentKpi service instance cannot be stopped before being started");if(S)throw new Error("MostRecentKpi service instance cannot be stopped more than once");return S=!0,g()},this.onNotification=function(e){E=e}}return{createInstance:function(e,n,t){return new c(e,n,t)}}}e.$inject=["$q","$routeParams","c8yInventory","c8yMeasurements","c8yDevices","c8yBase","c8yRealtime","c8yKpi","c8yDataPointSvc"],angular.module("c8y.parts.kpi").factory("mostRecentKpiSvc",e)}(),function(){"use strict";function e(e){function n(e){this.mostRecentKpi=null,this.$scope=e}return n.prototype.onDestroy=function(){this.mostRecentKpi&&this.mostRecentKpi.stop(),this.unwatchConfig&&this.unwatchConfig(),this.unwatchDestroy&&this.unwatchDestroy()},n.prototype.init=function(){var n=this.$scope.child,t=n.config;t.datapoints=t.datapoints&&_.filter(t.datapoints,"__active"),this.onDestroy(),this.unwatchDestroy=this.$scope.$on("$destroy",_.bind(this.onDestroy,this)),this.unwatchConfig=this.$scope.$watch("child.config",_.bind(function(e,n){e&&!_.isEqual(e,n)&&this.init()},this));var i=e.createInstance(t,this.$scope.$id,n);return i.onNotification(_.bind(this.onNotification,this)),i.start().then(_.bind(function(){this.mostRecentKpi=i,this.refresh()},this))},n.prototype.refresh=function(){throw new Error("refresh function needs to be overriden")},n.prototype.onNotification=function(){throw new Error("onNotification function needs to be overriden")},{createWidget:function(e){var t=new n(e);return t.__super=n.prototype,t}}}e.$inject=["mostRecentKpiSvc"],angular.module("c8y.parts.kpi").factory("baseWidgetSvc",e)}(),angular.module("c8y.parts.kpi").controller("kpiEditCtrl",["$scope","$routeParams","$location","kpiSvc","c8yTitle","gettext",function(e,n,t,i,a,s){"use strict";function r(){i.getKpi(n.measurement,n.series).then(l).then(o).then(c).then(d)}function l(e){return S.forEach(function(n){e[n]&&!_.isNumber(e[n])&&(e[n]=parseFloat(e[n]))}),e}function o(e){return _.isUndefined(e.enabled)&&(e.enabled=!0),e}function c(e){return _.isUndefined(e.unit)?i.getOneSeries(n.measurement,n.series).then(function(n){return e.unit=n.unit,e}):e}function d(n){e.kpi=V=n,p()}function p(){a.changeTitle({subtitle:V.fragment+" / "+V.series})}function u(){var n=e.editKpi;return g(n),h(n),v(n),k(n),w(n),R(n),n.$valid}function g(e){e.min.$setValidity(D.GREATER_THAN_SCALE_MAX,m(e.min.$modelValue,e.max.$modelValue)),e.max.$setValidity(D.LESS_THAN_SCALE_MIN,m(e.min.$modelValue,e.max.$modelValue))}function m(e,n){return!!(_.isUndefined(e)||!e&&0!==e||_.isUndefined(n)||!n&&0!==n)||e<n}function f(e,n){return!!(_.isUndefined(e)||!e&&0!==e||_.isUndefined(n)||!n&&0!==n)||e<=n}function h(e){y(e.yellowRangeMin,e.yellowRangeMax)}function v(e){y(e.redRangeMin,e.redRangeMax)}function y(e,n){e.$setValidity(D.SHOULD_BE_DEFINED,b(e.$modelValue,n.$modelValue)),n.$setValidity(D.SHOULD_BE_DEFINED,b(n.$modelValue,e.$modelValue)),e.$setValidity(D.GREATER_THAN_RANGE_MAX,m(e.$modelValue,n.$modelValue)),n.$setValidity(D.LESS_THAN_RANGE_MIN,m(e.$modelValue,n.$modelValue))}function b(e,n){return!(!_.isUndefined(n)&&(n||0===n))||!_.isUndefined(e)&&(e||0===e)}function k(e){x(e.min,e.yellowRangeMin,e.yellowRangeMax,e.max)}function w(e){x(e.min,e.redRangeMin,e.redRangeMax,e.max)}function x(e,n,t,i){n.$setValidity(D.LESS_THAN_SCALE_MIN,f(e.$modelValue,n.$modelValue)),t.$setValidity(D.GREATER_THAN_SCALE_MAX,f(t.$modelValue,i.$modelValue))}function R(e){e.target.$setValidity(D.LESS_THAN_SCALE_MIN,f(e.min.$modelValue,e.target.$modelValue)),e.target.$setValidity(D.GREATER_THAN_SCALE_MAX,f(e.target.$modelValue,e.max.$modelValue))}function M(n){var t=e.editKpi[n];return t&&t.$invalid}function I(n){var t=[];return e.editKpi[n]&&e.editKpi[n].$error&&_.forEach(e.editKpi[n].$error,function(e,n){e&&t.push(A[n])}),t.join(" ")}function C(){i.updateKpi(V).then(E)}function T(){E()}function E(){t.path("/device/"+n.deviceId+"/kpi")}var V,S=["target","min","max","yellowRangeMin","yellowRangeMax","redRangeMin","redRangeMax"],D={IS_REQUIRED:"required",SHOULD_CONTAIN_NUMBER:"number",SHOULD_BE_DEFINED:"should-be-defined",GREATER_THAN_SCALE_MAX:"greater-than-scale-max",LESS_THAN_SCALE_MIN:"less-than-scale-min",GREATER_THAN_RANGE_MAX:"greater-than-range-max",LESS_THAN_RANGE_MIN:"less-than-range-min"},A={};A[D.IS_REQUIRED]=s("This field is required!"),A[D.SHOULD_CONTAIN_NUMBER]=s("This field should contain a number!"),A[D.SHOULD_BE_DEFINED]=s("Value should be defined!"),A[D.GREATER_THAN_SCALE_MAX]=s("Value should be less than scale maximum!"),A[D.LESS_THAN_SCALE_MIN]=s("Value should be greater than scale minimum!"),A[D.GREATER_THAN_RANGE_MAX]=s("Value should be less than range maximum!"),A[D.LESS_THAN_RANGE_MIN]=s("Value should be greater than range minimum!"),e.isFormValid=u,e.isFieldInvalid=M,e.getFieldValidationHints=I,e.save=C,e.cancel=T,r()}]),angular.module("c8y.parts.kpi").controller("kpiGraphCtrl",["$scope","$routeParams","c8yKpi",function(e,n,t){"use strict";function i(n){var i=_.filter(_.map(n,"moId"),_.identity);t.listByIds(i).then(function(e){return _.map(e,function(e){return e.c8y_Kpi||e})}).then(function(e){return _.map(n,function(n){var t=_.find(e,{fragment:n.fragment,series:n.series});return t||n})}).then(function(n){e.deviceId=a(),e.kpis=n})}function a(){var t=n.deviceId;return e.child.config&&e.child.config.device&&e.child.config.device.id&&(t=e.child.config.device.id),t}function s(n){e.interval=n}function r(n){e.aggregationType=n}e.$watch("child.config.kpis",i),e.$watch("child.config.timeInterval",s),e.$watch("child.config.aggregationType",r),e.deviceId=a(),e.autoStart=!0}]),angular.module("c8y.parts.kpi").controller("MultipleKpiConfigCtrl",["$scope","$location","$routeParams","kpiSvc","c8yKpi",function(e,n,t,i,a){"use strict";function s(){e.config.kpis=_.map(_.filter(e.kpis,"selected"),function(e){return _.assign({moId:e.id},e.c8y_Kpi)})}function r(){var n=e.config.kpis,t=e.kpis;_.forEach(t,function(e,t){e.selected=!!_.find(n,{moId:e.id})})}function l(){return e.$watch(function(){return _.map(_.filter(e.kpis,"selected"),"id").join("::")},s)}function o(n){u&&u(),a.listKpiForDevice(n).then(function(n){e.kpis=n.matchKpi||[],e.kpisByFragment=_.groupBy(e.kpis,function(e){return e.c8y_Kpi.fragment}),e.measurements=n.nonKpiSeries,e.measurementsByFragment=_.groupBy(n.nonKpiSeries,"fragment"),e.allMeasurements=_.sortBy(_.union(_.map(e.measurements,"fragment"),_.map(e.kpis,function(e){return e.c8y_Kpi.fragment}))),r(),u=l()})}function c(e){e&&o(e.id)}function d(){e.config.aggregationTypeChangedManually=!0}function p(n){!e.config.aggregationTypeChangedManually&&n&&_.forEach(h,function(t){n===t.timeIntervalValue&&(e.config.aggregationType=t.aggregationType)})}var u,g=t.deviceId,m=[{value:"minutes",name:"Last minute"},{value:"hours",name:"Last hour"},{value:"days",name:"Last day"},{value:"weeks",name:"Last week"},{value:"months",name:"Last month"}],f=[{value:void 0,name:"No aggregation"},{value:"HOURLY",name:"Hourly"},{value:"DAILY",name:"Daily"}],h=[{timeIntervalValue:"minutes",aggregationType:void 0},{timeIntervalValue:"hours",aggregationType:void 0},{timeIntervalValue:"days",aggregationType:"HOURLY"},{timeIntervalValue:"weeks",aggregationType:"HOURLY"},{timeIntervalValue:"months",aggregationType:"DAILY"}];e.selectdKpis={},e.deviceId=g,e.timeIntervals=m,e.aggregationTypes=f,e.onAggregationTypeChangedManually=d,e.$watch("config.device",c),e.$watch("config.timeInterval",p)}]);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};angular.module("c8y.parts.kpi").controller("kpiSetupCtrl",["$scope","$routeParams","$location","$q","kpiSvc",function(e,n,t,i,a){"use strict";function s(){r().then(o).then(d)}function r(){return a.getSupportedMeasurements().then(l)}function l(n){return f={},_.forEach(n,function(e){f[e]={type:e,series:null}}),e.measurements=f,f}function o(){var e=[];return _.forEach(f,function(n){e.push(a.getSupportedSeries(n.type).then(angular.bind({},c,n)))}),i.all(e)}function c(e,n){if("object"===("undefined"==typeof n?"undefined":_typeof(n))){var t=_.keys(n);f[e.type].series=[];for(var i in t)f[e.type].series.push({name:t[i],unit:n[t[i]].unit})}return e}function d(){return a.list().then(p)}function p(e){_.forEach(e,function(e){if(f[e.fragment]){var n=_.find(f[e.fragment].series,function(n){return n.name===e.series});n&&(n.kpi=e,_.isUndefined(n.kpi.enabled)&&(n.kpi.enabled=!0))}})}function u(e,n,t){t.fragment&&t.series?a.updateKpi(t):g(e,n)}function g(e,i){t.url("device/"+n.deviceId+"/kpi/"+e.type+"/"+i.name)}var m={refresh:!0},f={};e.refresh=s,e.paging=m,e.updateKpiEnabled=u,e.navigateToDetails=g,e.getHumanizedName=a.getHumanizedName,s()}]),function(){"use strict";function e(e,n){function t(n){var t=e.measurements[n.id],i=t&&t.value,a=n&&n.target,s="--";return _.isUndefined(i)||_.isUndefined(a)||(s=i-a),s}function i(e){var n="--";if(!_.isUndefined(e.target)){var i=t(e);n=i/e.target*100}return n}function a(e){return e!==!1}var s=n.createWidget(e);s.init=function(){var n=e.child.config;n.datapoints=n.options&&n.options.dataPoints,this.__super.init.call(this)},s.refresh=function(){e.measurements=this.mostRecentKpi.measurements,e.dataPoints=this.mostRecentKpi.dataPoints,e.times=this.mostRecentKpi.times},s.onNotification=s.refresh,e.options=e.child.config.options,e.diff=t,e.diffPercent=i,e.columnVisible=a,s.init()}angular.module("c8y.parts.kpi").controller("kpiListCtrl",["$scope","baseWidgetSvc",e])}(),function(){function e(e){function n(){var n={kpi:!0,target:!0,current:!0,diff:!0,diffPercentage:!0,asset:!0,dataPoints:[]};e.config.options=e.config.options||n}n()}angular.module("c8y.parts.kpi").controller("listConfigCtrl",["$scope",e])}(),function(){"use strict";function e(e,n){var t=n.createWidget(e);t.refresh=function(){e.dataPoint=this.getDataPoint(),e.measurement=this.getMeasurement(e.dataPoint),e.time=this.getTime(e.dataPoint)},t.onNotification=function(){e.dataPoint=this.getDataPoint(),e.measurement=this.getMeasurement(e.dataPoint),e.time=this.getTime(e.dataPoint)},t.getDataPoint=function(){return this.mostRecentKpi.dataPoints[0]||{}},t.getMeasurement=function(e){return this.mostRecentKpi.measurements[e.id]||{}},t.getTime=function(e){return this.mostRecentKpi.times[e.id]},t.init()}e.$inject=["$scope","baseWidgetSvc"],angular.module("c8y.parts.kpi").controller("gaugeCtrl",e)}(),function(){"use strict";function e(e,n,t){function i(){e.config.aggregationTypeChangedManually=!0}function a(n){!e.config.aggregationTypeChangedManually&&n&&_.forEach(o,function(t){n===t.timeIntervalValue&&(e.config.aggregationType=t.aggregationType)})}var s=t.deviceId,r=[{value:"minutes",name:"Last minute"},{value:"hours",name:"Last hour"},{value:"days",name:"Last day"},{value:"weeks",name:"Last week"},{value:"months",name:"Last month"}],l=[{value:void 0,name:"No aggregation"},{value:"HOURLY",name:"Hourly"},{value:"DAILY",name:"Daily"}],o=[{timeIntervalValue:"minutes",aggregationType:void 0},{timeIntervalValue:"hours",aggregationType:void 0},{timeIntervalValue:"days",aggregationType:"HOURLY"},{timeIntervalValue:"weeks",aggregationType:"HOURLY"},{timeIntervalValue:"months",aggregationType:"DAILY"}];e.deviceId=s,e.timeIntervals=r,e.aggregationTypes=l,e.onAggregationTypeChangedManually=i,e.$watch("config.timeInterval",a)}angular.module("c8y.parts.kpi").controller("kpiConfigCtrl",["$scope","$location","$routeParams",e])}(),function(){"use strict";function e(e,n){var t=n.createWidget(e);t.refresh=function(){var n=this.mostRecentKpi.dataPoints,t=this.mostRecentKpi.measurements;e.dps=_.filter(n,function(e){return t[e.id]}),e.measurements=_.map(e.dps,function(e){return t[e.id]})},t.onNotification=t.refresh,e.$watch("child.config.pieChartOptions",function(){e.options=e.child.config.pieChartOptions||{}}),e.options=e.child.config.pieChartOptions||{},t.init()}angular.module("c8y.parts.kpi").controller("pieChartCtrl",["$scope","baseWidgetSvc",e])}(),function(){"use strict";function e(e){function n(e){return e.__active===!0}function t(){var t=_.filter(e.config.datapoints,n);if(t.length){var i=_.head(t).unit;return _.every(t,{unit:i})}return!0}e.differentUnits=!1,e.$watchCollection(t,function(n){e.differentUnits=!n})}angular.module("c8y.parts.kpi").controller("pieChartConfigCtrl",["$scope",e])}(),function(){"use strict";function e(e){var n;n='<div ng-controller="kpiEditCtrl">\n  <form name="editKpi" role="form" ng-submit="save()">\n    <div class="row" ng-if="false">\n      <div class="form-group col-lg-6">\n        <label>Fragment</label>\n        <input class="form-control" name="fragment" ng-model="kpi.fragment" required disabled="disabled">\n      </div>\n      <div class="form-group col-lg-6">\n        <label>Series</label>\n        <input class="form-control" name="series" ng-model="kpi.series" required disabled="disabled">\n      </div>\n    </div>\n    <div class="row">\n      <div class="form-group col-lg-6" ng-class="{\'has-error\': isFieldInvalid(\'label\')}">\n        <label>Label *</label>\n        <input class="form-control" name="label" ng-model="kpi.label" required uib-tooltip="{{getFieldValidationHints(\'label\')}}">\n      </div>\n      <div class="form-group col-lg-6" ng-class="{\'has-error\': isFieldInvalid(\'color\')}">\n        <label>Color *</label>\n        <input type="color" class="form-control" name="color" ng-model="kpi.color" required uib-tooltip="{{getFieldValidationHints(\'color\')}}">\n      </div>\n    </div>\n    <div class="row">\n      <div class="form-group col-lg-3" ng-class="{\'has-error\': isFieldInvalid(\'unit\')}">\n        <label>Unit</label>\n        <input class="form-control" name="unit" ng-model="kpi.unit" uib-tooltip="{{getFieldValidationHints(\'unit\')}}">\n      </div>\n      <div class="form-group col-lg-3" ng-class="{\'has-error\': isFieldInvalid(\'target\')}">\n        <label>Target</label>\n        <input type="number" step="any" class="form-control" name="target" ng-model="kpi.target" uib-tooltip="{{getFieldValidationHints(\'target\')}}">\n      </div>\n      <div class="form-group col-lg-3" ng-class="{\'has-error\': isFieldInvalid(\'min\')}">\n        <label>Minimum *</label>\n        <input type="number" step="any" class="form-control" name="min" ng-model="kpi.min" uib-tooltip="{{getFieldValidationHints(\'min\')}}">\n      </div>\n      <div class="form-group col-lg-3" ng-class="{\'has-error\': isFieldInvalid(\'max\')}">\n        <label>Maximum *</label>\n        <input type="number" step="any" class="form-control" name="max" ng-model="kpi.max" uib-tooltip="{{getFieldValidationHints(\'max\')}}">\n      </div>\n    </div>\n    <div class="row">\n      <div class="form-group col-lg-3" ng-class="{\'has-error\': isFieldInvalid(\'yellowRangeMin\')}">\n        <label>Yellow Range</label>\n        <input type="number" step="any" class="form-control" name="yellowRangeMin" ng-model="kpi.yellowRangeMin" placeholder="Min" uib-tooltip="{{getFieldValidationHints(\'yellowRangeMin\')}}">\n      </div>\n      <div class="form-group col-lg-3" ng-class="{\'has-error\': isFieldInvalid(\'yellowRangeMax\')}">\n        <label>&nbsp;</label>\n        <input type="number" step="any" class="form-control" name="yellowRangeMax" ng-model="kpi.yellowRangeMax" placeholder="Max" uib-tooltip="{{getFieldValidationHints(\'yellowRangeMax\')}}">\n      </div>\n      <div class="form-group col-lg-3" ng-class="{\'has-error\': isFieldInvalid(\'redRangeMin\')}">\n        <label>Red Range</label>\n        <input type="number" step="any" class="form-control" name="redRangeMin" ng-model="kpi.redRangeMin" placeholder="Min" uib-tooltip="{{getFieldValidationHints(\'redRangeMin\')}}">\n      </div>\n      <div class="form-group col-lg-3" ng-class="{\'has-error\': isFieldInvalid(\'redRangeMax\')}">\n        <label>&nbsp;</label>\n        <input type="number" step="any" class="form-control" name="redRangeMax" ng-model="kpi.redRangeMax" placeholder="Max" uib-tooltip="{{getFieldValidationHints(\'redRangeMax\')}}">\n      </div>\n    </div>\n    <button class="btn btn-primary" type="submit" ng-disabled="!isFormValid()">Save</button>\n    <button class="btn" ng-click="cancel()">Cancel</button>\n  </form>\n</div>\n',e.put("core_kpi/views/deprecated/edit.html",n),e.put("/apps/core/kpi/views/deprecated/edit.html",n),n='<div ng-controller="kpiGraphCtrl">\n    <div c8y-measurement-line-chart kpis="kpis" device-id="{{deviceId}}" interval="interval" datapoints="child.config.datapoints" aggregation-type="aggregationType" start-realtime="autoStart" hide-realtime="true" hide-header="true">\n    </div>\n</div>\n',e.put("core_kpi/views/deprecated/graph.html",n),e.put("/apps/core/kpi/views/deprecated/graph.html",n),n='<div ng-controller="MultipleKpiConfigCtrl">\n\n  <label>KPI</label>\n\n  <div ng-repeat="measurement in allMeasurements">\n\n    <div ng-click="open=!open" style="cursor:pointer">\n      <span class="text-muted" style="color:#CCC">\n        <i c8y-icon="plus-square" ng-show="!open"></i>\n        <i c8y-icon="minus-square" ng-show="open"></i>\n      </span>\n      {{measurement}}\n    </div>\n\n    <div ng-show="open" style="padding-left:20px">\n\n      <div ng-repeat="m in measurementsByFragment[measurement]">\n        {{m.fragment}} <span class="text-muted">{{m.series}}</span>\n        <c8y-if-allowed any-role="[\'ROLE_INVENTORY_ADMIN\']">\n          <a class="btn btn-link btn-xs" ng-href="/apps/administration/#kpi/new?fragment={{m.fragment}}&series={{m.series}}">\n            <i c8y-icon="plus"></i>\n            Create KPI\n          </a>\n        </c8y-if-allowed>\n      </div>\n\n      <div class="checkbox" ng-repeat="kpi in kpisByFragment[measurement]">\n        <label>\n          <input type="checkbox" ng-model="kpi.selected">\n          {{kpi.c8y_Kpi.label}}\n          <small class="text-muted">{{kpi.c8y_Kpi.series}}</small>\n          <c8y-if-allowed admin-mos="[kpi.id]">\n            <a class="btn btn-link btn-xs" ng-href="/apps/administration/#kpi/{{kpi.id}}">\n              <i c8y-icon="pencil"></i>\n              Edit KPI\n            </a>\n          </c8y-if-allowed>\n          <c8y-if-allowed any-role="[\'ROLE_INVENTORY_ADMIN\']">\n            <a class="btn btn-link btn-xs" ng-href="/apps/administration/#kpi/new?fragment={{kpi.c8y_Kpi.fragment}}&series={{kpi.c8y_Kpi.series}}">\n              <i c8y-icon="plus"></i>\n              Create new KPI\n            </a>\n          </c8y-if-allowed>\n        </label>\n      </div>\n\n    </div>\n  </div>\n  <div class="form-group">\n    <label>Time interval</label>\n    <select class="form-control" ng-options="time.value as time.name for time in timeIntervals" ng-model="config.timeInterval" required></select>\n  </div>\n  <div class="form-group">\n    <label>Aggregation Type</label>\n    <select class="form-control" ng-options="aggregation.value as aggregation.name for aggregation in aggregationTypes" ng-model="config.aggregationType" ng-change="onAggregationTypeChangedManually()"></select>\n  </div>\n</div>\n',e.put("core_kpi/views/deprecated/graphConfig.html",n),e.put("/apps/core/kpi/views/deprecated/graphConfig.html",n),n='<div ng-controller="kpiSetupCtrl">\n\n  <div class="nav">\n    <div class="navbar-right">\n      <c8y-if-allowed any-role="[\'ROLE_INVENTORY_ADMIN\']">\n        <button ng-if="false" type="button" class="btn btn-link" ng-click="add()">\n          <i c8y-icon="plus"></i> Add KPI\n        </button>\n      </c8y-if-allowed>\n      <c8y-refresh-btn></c8y-refresh-btn>\n    </div>\n  </div>\n\n  <table class="table table-condensed table-hover table-kpi-list">\n    <thead>\n      <tr>\n        <th>Measurement</th>\n        <th class="text-center">Series</th>\n        <th class="text-center">KPI?</th>\n        <th class="text-center">Unit</th>\n        <th>Label</th>\n        <th class="text-center">Color</th>\n        <th class="text-center">Target</th>\n        <th class="text-center">Min/Max</th>\n        <th class="text-center">Red Range</th>\n        <th class="text-center">Yellow Range</th>\n      </tr>\n    </thead>\n    <tbody ng-repeat="measurement in measurements">\n      <tr ng-repeat="series in measurement.series" ng-show="measurement.series.length > 0">\n        <td ng-if="$first" class="interact" ng-click="navigateToDetails(measurement, series, series.kpi)" rowspan="{{measurement.series.length}}">{{getHumanizedName(measurement.type)}}</td>\n        <td class="text-center interact" ng-click="navigateToDetails(measurement, series, series.kpi)">{{series.name}}</td>\n        <td class="text-center">\n          <input type="checkbox" ng-model="series.kpi.enabled" ng-change="updateKpiEnabled(measurement, series, series.kpi)"/>\n        </td>\n        <td class="text-center interact" ng-click="navigateToDetails(measurement, series, series.kpi)">\n          <span ng-if="series.kpi.unit">{{series.kpi.unit}}</span>\n          <span ng-if="!series.kpi.unit">{{series.unit}}</span>\n        </td>\n        <td class="interact" ng-click="navigateToDetails(measurement, series, series.kpi)">{{series.kpi.label}}</td>\n        <td class="text-center interact" ng-click="navigateToDetails(measurement, series, series.kpi)">\n          <i ng-if="series.kpi.color" c8y-icon="circle" ng-style="{color: series.kpi.color}"></i>\n        </td>\n        <td class="text-center interact" ng-click="navigateToDetails(measurement, series, series.kpi)"><small>{{series.kpi.target}}</small></td>\n        <td class="text-center interact" ng-click="navigateToDetails(measurement, series, series.kpi)"><small>{{series.kpi.min}}&hellip;{{series.kpi.max}}</small></td>\n        <td class="text-center interact" ng-click="navigateToDetails(measurement, series, series.kpi)">\n          <span ng-if="series.kpi.redRangeMin || series.kpi.redRangeMax"><small>{{series.kpi.redRangeMin}}&hellip;{{series.kpi.redRangeMax}}</small></span>\n        </td>\n        <td class="text-center interact" ng-click="navigateToDetails(measurement, series, series.kpi)">\n          <span ng-if="series.kpi.yellowRangeMin || series.kpi.yellowRangeMax"><small>{{series.kpi.yellowRangeMin}}&hellip;{{series.kpi.yellowRangeMax}}</small></span>\n        </td>\n      </tr>\n      <tr ng-show="measurement.series.length === 0">\n        <td>{{getHumanizedName(measurement.type)}}</td>\n        <td colspan="9"><span class="text-danger">No sample value exists, please connect device first!</span></td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n',e.put("core_kpi/views/deprecated/setup.html",n),e.put("/apps/core/kpi/views/deprecated/setup.html",n),n='<div ng-controller="kpiEditCtrl">\n  <form name="editKpi" role="form" ng-submit="save()">\n    <div class="row" ng-if="false">\n      <div class="form-group col-lg-6">\n        <label>{{\'Fragment\' | translate}}</label>\n        <input class="form-control" name="fragment" ng-model="kpi.fragment" required disabled="disabled">\n      </div>\n      <div class="form-group col-lg-6">\n        <label>{{\'Series\' | translate}}</label>\n        <input class="form-control" name="series" ng-model="kpi.series" required disabled="disabled">\n      </div>\n    </div>\n    <div class="row">\n      <div class="form-group col-lg-6" ng-class="{\'has-error\': isFieldInvalid(\'label\')}">\n        <label>{{\'Label\' | translate}} *</label>\n        <input class="form-control" name="label" ng-model="kpi.label" required uib-tooltip="{{getFieldValidationHints(\'label\')}}">\n      </div>\n      <div class="form-group col-lg-6" ng-class="{\'has-error\': isFieldInvalid(\'color\')}">\n        <label>{{\'Color\' | translate}} *</label>\n        <input type="color" class="form-control" name="color" ng-model="kpi.color" required uib-tooltip="{{getFieldValidationHints(\'color\')}}">\n      </div>\n    </div>\n    <div class="row">\n      <div class="form-group col-lg-3" ng-class="{\'has-error\': isFieldInvalid(\'unit\')}">\n        <label>{{\'Unit\' | translate}}</label>\n        <input class="form-control" name="unit" ng-model="kpi.unit" uib-tooltip="{{getFieldValidationHints(\'unit\')}}">\n      </div>\n      <div class="form-group col-lg-3" ng-class="{\'has-error\': isFieldInvalid(\'target\')}">\n        <label>{{\'Target\' | translate}}</label>\n        <input type="number" step="any" class="form-control" name="target" ng-model="kpi.target" uib-tooltip="{{getFieldValidationHints(\'target\')}}">\n      </div>\n      <div class="form-group col-lg-3" ng-class="{\'has-error\': isFieldInvalid(\'min\')}">\n        <label>{{\'Minimum\' | translate}} *</label>\n        <input type="number" step="any" class="form-control" name="min" ng-model="kpi.min" uib-tooltip="{{getFieldValidationHints(\'min\')}}">\n      </div>\n      <div class="form-group col-lg-3" ng-class="{\'has-error\': isFieldInvalid(\'max\')}">\n        <label>{{\'Maximum\' | translate}} *</label>\n        <input type="number" step="any" class="form-control" name="max" ng-model="kpi.max" uib-tooltip="{{getFieldValidationHints(\'max\')}}">\n      </div>\n    </div>\n    <div class="row">\n      <div class="form-group col-lg-3" ng-class="{\'has-error\': isFieldInvalid(\'yellowRangeMin\')}">\n        <label>{{\'Yellow range\' | translate}}</label>\n        <input type="number" step="any" class="form-control" name="yellowRangeMin" ng-model="kpi.yellowRangeMin" placeholder="{{\'Min\' | translate}}" uib-tooltip="{{getFieldValidationHints(\'yellowRangeMin\')}}">\n      </div>\n      <div class="form-group col-lg-3" ng-class="{\'has-error\': isFieldInvalid(\'yellowRangeMax\')}">\n        <label>&nbsp;</label>\n        <input type="number" step="any" class="form-control" name="yellowRangeMax" ng-model="kpi.yellowRangeMax" placeholder="{{\'Max\' | translate}}" uib-tooltip="{{getFieldValidationHints(\'yellowRangeMax\')}}">\n      </div>\n      <div class="form-group col-lg-3" ng-class="{\'has-error\': isFieldInvalid(\'redRangeMin\')}">\n        <label>{{\'Red range\' | translate}}</label>\n        <input type="number" step="any" class="form-control" name="redRangeMin" ng-model="kpi.redRangeMin" placeholder="{{\'Min\' | translate}}" uib-tooltip="{{getFieldValidationHints(\'redRangeMin\')}}">\n      </div>\n      <div class="form-group col-lg-3" ng-class="{\'has-error\': isFieldInvalid(\'redRangeMax\')}">\n        <label>&nbsp;</label>\n        <input type="number" step="any" class="form-control" name="redRangeMax" ng-model="kpi.redRangeMax" placeholder="{{\'Max\' | translate}}" uib-tooltip="{{getFieldValidationHints(\'redRangeMax\')}}">\n      </div>\n    </div>\n    <button class="btn btn-primary" type="submit" ng-disabled="!isFormValid()" translate>Save</button>\n    <button class="btn" ng-click="cancel()" translate>Cancel</button>\n  </form>\n</div>\n',
e.put("core_kpi/views/edit.html",n),e.put("/apps/core/kpi/views/edit.html",n),n='<div ng-controller="gaugeCtrl" style="padding: 5px 15px 15px; position:relative; height: 100%">\n  <div c8y-radial-gauge dp="dataPoint" measurement="measurement" time="time" fraction-size="child.config.fractionSize" style="position: relative; height: 100%">\n  </div>\n</div>',e.put("core_kpi/views/gauge.html",n),e.put("/apps/core/kpi/views/gauge.html",n),n='<div ng-form="gaugeForm" ng-controller="kpiConfigCtrl">\n  <c8y-data-point-list max-select-count="1" datapoints="config.datapoints" ng-model="config" dont-save="true" no-chart allow-adding-data-points-from-context-mo-only="dashboard.deviceType && dashboard.deviceTypeValue">\n  </c8y-data-point-list>\n  <div class="form-group">\n    <label translate>Decimal places</label>\n    <input name="decimalPlaces" ng-model="config.fractionSize" type="number" ng-min="1" step="1" c8y-model-options="{unsetWhenNull: true}" class="form-control">\n    <c8y-error-feedback field="gaugeForm.decimalPlaces"></c8y-error-feedback>\n  </div>\n</div>\n',e.put("core_kpi/views/gaugeConfig.html",n),e.put("/apps/core/kpi/views/gaugeConfig.html",n),n='<div ng-controller="kpiGraphCtrl">\n    <div c8y-measurement-line-chart kpis="kpis" device-id="{{deviceId}}" interval="interval" datapoints="child.config.datapoints" aggregation-type="aggregationType" auto-aggregation-off="true" start-realtime="autoStart" hide-realtime="true" hide-header="true">\n    </div>\n</div>\n',e.put("core_kpi/views/graph.html",n),e.put("/apps/core/kpi/views/graph.html",n),n='<div ng-controller="MultipleKpiConfigCtrl">\n\n  <label translate>KPI</label>\n\n  <div ng-repeat="measurement in allMeasurements">\n\n    <div ng-click="open=!open" style="cursor:pointer">\n      <span class="text-muted" style="color:#CCC">\n        <i c8y-icon="plus-square" ng-show="!open"></i>\n        <i c8y-icon="minus-square" ng-show="open"></i>\n      </span>\n      {{measurement}}\n    </div>\n\n    <div ng-show="open" style="padding-left:20px">\n\n      <div ng-repeat="m in measurementsByFragment[measurement]">\n        {{m.fragment}} <span class="text-muted">{{m.series}}</span>\n        <c8y-if-allowed any-role="[\'ROLE_INVENTORY_ADMIN\']">\n          <a class="btn btn-link btn-xs" ng-href="/apps/administration/#kpi/new?fragment={{m.fragment}}&series={{m.series}}">\n            <i c8y-icon="plus"></i>\n            <translate>Create KPI</translate>\n          </a>\n        </c8y-if-allowed>\n      </div>\n\n      <div class="checkbox" ng-repeat="kpi in kpisByFragment[measurement]">\n        <label>\n          <input type="checkbox" ng-model="kpi.selected">\n          {{kpi.c8y_Kpi.label | translate}}\n          <small class="text-muted">{{kpi.c8y_Kpi.series}}</small>\n          <c8y-if-allowed admin-mos="[kpi.id]">\n            <a class="btn btn-link btn-xs" ng-href="/apps/administration/#kpi/{{kpi.id}}">\n              <i c8y-icon="pencil"></i>\n              <translate>Edit KPI</translate>\n            </a>\n          </c8y-if-allowed>\n          <c8y-if-allowed any-role="[\'ROLE_INVENTORY_ADMIN\']">\n            <a class="btn btn-link btn-xs" ng-href="/apps/administration/#kpi/new?fragment={{kpi.c8y_Kpi.fragment}}&series={{kpi.c8y_Kpi.series}}">\n              <i c8y-icon="plus"></i>\n              <translate>Create new KPI</translate>\n            </a>\n          </c8y-if-allowed>\n        </label>\n      </div>\n\n    </div>\n  </div>\n  <div class="form-group">\n    <label translate>Time interval</label>\n    <select class="form-control" ng-options="time.value as time.name for time in timeIntervals" ng-model="config.timeInterval" required></select>\n  </div>\n  <div class="form-group">\n    <label translate>Aggregation type</label>\n    <select class="form-control" ng-options="aggregation.value as aggregation.name for aggregation in aggregationTypes" ng-model="config.aggregationType" ng-change="onAggregationTypeChangedManually()"></select>\n  </div>\n</div>\n',e.put("core_kpi/views/graphConfig.html",n),e.put("/apps/core/kpi/views/graphConfig.html",n),n='<div ng-controller="gaugeCtrl" style="padding:15px 30px">\n  <c8y-linear-gauge dp="dataPoint" measurement="measurement" time="time" fraction-size="child.config.fractionSize">\n  </c8y-linear-gauge>\n</div>',e.put("core_kpi/views/linearGauge.html",n),e.put("/apps/core/kpi/views/linearGauge.html",n),n='<div ng-controller="kpiListCtrl">\n  <table class="table table-condensed">\n    <thead>\n      <tr>\n        <th></th>\n        <th ng-if="columnVisible(options.kpi)" translate>Label</th>\n        <th class="text-right" ng-if="columnVisible(child.config.options.target)" translate>Target</th>\n        <th class="text-right" ng-if="columnVisible(child.config.options.current)" translate>Current</th>\n        <th class="text-right" ng-if="columnVisible(child.config.options.diff)" translate>Diff</th>\n        <th class="text-right" ng-if="columnVisible(child.config.options.diffPercentage)" translate>Diff %</th>\n        <th class="text-right" ng-if="columnVisible(child.config.options.asset)" translate>Asset</th>\n      </tr>\n    </thead>\n    <tbody>\n\n      <tr ng-repeat="dp in dataPoints">\n\n        <td style="width:20px">\n          <i c8y-icon="circle" ng-style="{color: dp.color}"></i>\n        </td>\n\n        <td ng-if="columnVisible(child.config.options.kpi)">\n          {{dp.label | translate}} <small class="text-muted">{{ dp.unit }}</small>\n        </td>\n\n        <td class="text-right" ng-if="columnVisible(child.config.options.target)">\n          <span>{{dp.target}}</span>\n        </td>\n\n        <td class="text-right" ng-if="columnVisible(child.config.options.current)">\n          <span uib-tooltip="{{ times[dp.id] | absoluteDate }}">\n            {{ measurements[dp.id].value }}\n          </span>\n        </td>\n\n        <td class="text-right" ng-if="columnVisible(child.config.options.diff)">\n          <span>{{ diff(dp) | number:2 }}</span>\n        </td>\n\n        <td class="text-right" ng-if="columnVisible(child.config.options.diffPercentage)">\n          <span>{{ diffPercent(dp) | number:2 }}</span>\n        </td>\n\n        <td class="text-right word-break" ng-if="columnVisible(child.config.options.asset)">\n          <a class="text-muted" ng-href="#/device/{{ dp.__target.id }}">\n            <small><i c8y-icon="cog"></i>{{ dp.__target.name}}</small>\n          </a>\n        </td>\n      </tr>\n\n    </tbody>\n  </table>\n</div>\n',e.put("core_kpi/views/list.html",n),e.put("/apps/core/kpi/views/list.html",n),n='<div ng-controller="kpiConfigCtrl">\n  <div ng-controller="listConfigCtrl">\n    <div class="form-group">\n      <label translate>Data point</label>\n      <c8y-data-point-list ng-model="config" datapoints="config.options.dataPoints" no-chart></c8y-data-point-list>\n    </div>\n    <label translate>Column visibility</label>\n\n    <div class="form-group">\n      <label class="checkbox-inline">\n          <input type="checkbox" ng-model="config.options.kpi"> <translate>Label</translate>\n      </label>\n      <label class="checkbox-inline">\n          <input type="checkbox" ng-model="config.options.target"> <translate>Target</translate>\n      </label>\n      <label class="checkbox-inline">\n          <input type="checkbox" ng-model="config.options.current"> <translate>Current</translate>\n      </label>\n      <label class="checkbox-inline">\n          <input type="checkbox" ng-model="config.options.diff"> <translate>Diff</translate>\n      </label>\n      <label class="checkbox-inline">\n          <input type="checkbox" ng-model="config.options.diffPercentage"> <translate>Diff %</translate>\n      </label>\n      <label class="checkbox-inline">\n          <input type="checkbox" ng-model="config.options.asset"> <translate>Asset</translate>\n      </label>\n    </div>\n  </div>\n</div>\n',e.put("core_kpi/views/listConfig.html",n),e.put("/apps/core/kpi/views/listConfig.html",n),n='<div ng-controller="pieChartCtrl" style="height:100%">\n  <c8y-pie-chart measurements="measurements" dps="dps" options="options">\n  </c8y-pie-chart>\n</div>\n',e.put("core_kpi/views/pieChart.html",n),e.put("/apps/core/kpi/views/pieChart.html",n),n='<div ng-controller="kpiConfigCtrl">\n  <div ng-controller="pieChartConfigCtrl">\n    <div class="form-group">\n      <label translate>Pie Chart Options</label>\n      <div class="checkbox">\n        <label>\n          <input type="checkbox" ng-model="config.pieChartOptions.showTooltips"/>\n          <translate>Show tooltips</translate>\n        </label>\n      </div>\n      <div class="checkbox">\n        <label>\n          <input type="checkbox" ng-model="config.pieChartOptions.showLabels"/>\n          <translate>Show percentages</translate>\n        </label>\n      </div>\n      <div class="checkbox">\n        <label>\n          <input type="checkbox" ng-model="config.pieChartOptions.showLegend"/>\n          <translate>Show legend</translate>\n        </label>\n      </div>\n    </div>\n    <c8y-data-point-list basic-list ng-model="config" datapoints="config.datapoints" dont-save="true"></c8y-data-point-list>\n    <div class="alert alert-warning" ng-show="differentUnits" style="clear:both; margin-top:1em" translate>\n      Warning: measurements with different units are selected.\n    </div>\n  </div>\n</div>\n',e.put("core_kpi/views/pieChartConfig.html",n),e.put("/apps/core/kpi/views/pieChartConfig.html",n),n='<div ng-controller="kpiSetupCtrl">\n\n  <div class="nav">\n    <div class="navbar-right">\n      <c8y-if-allowed any-role="[\'ROLE_INVENTORY_ADMIN\']">\n        <button ng-if="false" type="button" class="btn btn-link" ng-click="add()">\n          <i c8y-icon="plus"></i> {{\'Add KPI\' | translate}}\n        </button>\n      </c8y-if-allowed>\n      <c8y-refresh-btn></c8y-refresh-btn>\n    </div>\n  </div>\n\n  <table class="table table-condensed table-hover table-kpi-list">\n    <thead>\n      <tr>\n        <th translate>Measurement</th>\n        <th class="text-center" translate>Series</th>\n        <th class="text-center" translate>KPI?</th>\n        <th class="text-center" translate>Unit</th>\n        <th translate>Label</th>\n        <th class="text-center" translate>Color</th>\n        <th class="text-center" translate>Target</th>\n        <th class="text-center" translate>Min/Max</th>\n        <th class="text-center" translate>Red range</th>\n        <th class="text-center" translate>Yellow range</th>\n      </tr>\n    </thead>\n    <tbody ng-repeat="measurement in measurements">\n      <tr ng-repeat="series in measurement.series" ng-show="measurement.series.length > 0">\n        <td ng-if="$first" class="interact" ng-click="navigateToDetails(measurement, series, series.kpi)" rowspan="{{measurement.series.length}}">{{getHumanizedName(measurement.type)}}</td>\n        <td class="text-center interact" ng-click="navigateToDetails(measurement, series, series.kpi)">{{series.name}}</td>\n        <td class="text-center">\n          <input type="checkbox" ng-model="series.kpi.enabled" ng-change="updateKpiEnabled(measurement, series, series.kpi)"/>\n        </td>\n        <td class="text-center interact" ng-click="navigateToDetails(measurement, series, series.kpi)">\n          <span ng-if="series.kpi.unit">{{series.kpi.unit}}</span>\n          <span ng-if="!series.kpi.unit">{{series.unit}}</span>\n        </td>\n        <td class="interact" ng-click="navigateToDetails(measurement, series, series.kpi)">{{series.kpi.label}}</td>\n        <td class="text-center interact" ng-click="navigateToDetails(measurement, series, series.kpi)">\n          <i ng-if="series.kpi.color" c8y-icon="circle" ng-style="{color: series.kpi.color}"></i>\n        </td>\n        <td class="text-center interact" ng-click="navigateToDetails(measurement, series, series.kpi)"><small>{{series.kpi.target}}</small></td>\n        <td class="text-center interact" ng-click="navigateToDetails(measurement, series, series.kpi)"><small>{{series.kpi.min}}&hellip;{{series.kpi.max}}</small></td>\n        <td class="text-center interact" ng-click="navigateToDetails(measurement, series, series.kpi)">\n          <span ng-if="series.kpi.redRangeMin || series.kpi.redRangeMax"><small>{{series.kpi.redRangeMin}}&hellip;{{series.kpi.redRangeMax}}</small></span>\n        </td>\n        <td class="text-center interact" ng-click="navigateToDetails(measurement, series, series.kpi)">\n          <span ng-if="series.kpi.yellowRangeMin || series.kpi.yellowRangeMax"><small>{{series.kpi.yellowRangeMin}}&hellip;{{series.kpi.yellowRangeMax}}</small></span>\n        </td>\n      </tr>\n      <tr ng-show="measurement.series.length === 0">\n        <td>{{getHumanizedName(measurement.type)}}</td>\n        <td colspan="9"><span class="text-danger" translate>No sample value exists, please connect device first!</span></td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n',e.put("core_kpi/views/setup.html",n),e.put("/apps/core/kpi/views/setup.html",n),n='<div ng-controller="gaugeCtrl" style="height: 90%; padding: 15px" class="dashboard-old-minheight">\n  <c8y-silo dp="dataPoint" measurement="measurement" time="time" fraction-size="child.config.fractionSize">\n  </c8y-silo>\n</div>',e.put("core_kpi/views/silo.html",n),e.put("/apps/core/kpi/views/silo.html",n)}angular.module("c8y.parts.kpi").run(["$templateCache",e])}();