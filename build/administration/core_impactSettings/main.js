/* core_impactSettings 9.3.0 2018-03-26T16:25:26+00:00 796b68a031b1+ (release/9.3.0) tip */
!function(){"use strict";function t(t,e,n,r){function s(t,e,n){return n.listByUser().then(function(t){var e=_.find(t,{name:o});return e.name}).then(e.checkMicroserviceHealth).then(_.constant(!0)).catch(_.constant(!1))}s.$inject=["$q","c8yUiUtil","c8yApplication"];var i=r("Connectivity"),a="connectivitySettings",o="impact";t.addNavigation({parent:r("Settings"),name:i,path:a,icon:"plug",preventDuplicates:!0,showIfContainsVisibleViews:!0}),e.addTitle(a,{data:_.constant({title:i})}),n.when("/connectivitySettings",{template:"<impact-settings></impact-settings>",name:r("IMPACT provider settings"),icon:"c8y-device",showIf:s})}t.$inject=["c8yNavigatorProvider","c8yTitleProvider","c8yViewsProvider","gettext"],angular.module("c8y.impactSettings",[]).config(t)}(),function(){"use strict";function t(t,e,n,r){function s(){n.getSettings().then(i)}function i(t){l.stored=_.keys(t).length>0,l.values=t}function a(){var e=_.transform(l.values,function(t,e,n){_.get(l.form,n+".$dirty")&&(t[n]=e)},{});return n.saveSettings(e).then(function(){l.stored=!0,l.form.$setPristine(),l.form.$setUntouched(),t.success(r("Credentials successfully updated!"))})}function o(){return e({title:r("Confirm delete?"),body:r("Deleting credentials will break connection to IMPACT instance. Are you sure you want to delete your IMPACT credentials?"),status:"danger"}).then(function(){return n.removeSettings().then(function(){l.values={},l.stored=!1,l.form.$setPristine(),l.form.$setUntouched(),t.success(r("Credentials successfully removed!"))})})}var c=this,l={values:{},stored:!1};_.assign(c,{$onInit:s,settings:l,save:a,remove:o})}t.$inject=["c8yAlert","c8yModal","impactSettingsSvc","gettext"],angular.module("c8y.impactSettings").component("impactSettings",{templateUrl:"core_impactSettings/impactSettings.html",controller:t,controllerAs:"vm"})}(),function(){"use strict";function t(t,e){function n(){return e.list({category:o}).then(function(t){return _.transform(t,function(t,e){t[e.key]=e.value},{})})}function r(e){return t.all(_.map(e,function(t,e){return""===t?s(e):i(e,t)}))}function s(t){return e.deleteOption({category:o,key:t})}function i(t,n){return e.updateOption({category:o,key:t,value:n})}function a(){return n().then(function(n){return t.all(_.map(n,function(t,n){return e.deleteOption({category:o,key:n})}))})}var o="impact";return{getSettings:n,saveSettings:r,removeSettings:a}}t.$inject=["$q","c8ySettings"],angular.module("c8y.impactSettings").factory("impactSettingsSvc",t)}(),function(){"use strict";function t(t){var e;e='<div class="row">\n  <div class="col-xs-12 col-sm-10 col-md-8 col-lg-6">\n    <form class="card" name="vm.settings.form" ng-submit="vm.save()" novalidate>\n      <div class="card-header">\n        <h4 class="card-title" translate>Credentials</h4>\n      </div>\n      <hr>\n      <div class="card-block">\n        <div class="form-group">\n          <label for="baseUrl" translate>\n            Base URL\n          </label>\n          <input id="baseUrl" name="baseUrl" type="text" class="form-control" ng-model="vm.settings.values.baseUrl" c8y-autocomplete="off">\n          <c8y-error-feedback field="vm.settings.form.baseUrl">\n          </c8y-error-feedback>\n        </div>\n        <div class="form-group">\n          <label for="user" translate>\n            User\n          </label>\n          <input id="user" name="user" type="text" class="form-control" ng-model="vm.settings.values.user" c8y-autocomplete="off" required>\n          <c8y-error-feedback field="vm.settings.form.user">\n          </c8y-error-feedback>\n        </div>\n        <div class="form-group">\n          <label for="password" translate>\n            Password\n          </label>\n          <input id="password" name="password" type="password" class="form-control" ng-model="vm.settings.values.password" c8y-autocomplete="off" required>\n          <c8y-error-feedback field="vm.settings.form.password">\n          </c8y-error-feedback>\n        </div>\n        <div class="form-group">\n          <label for="groupName" translate>\n            IMPACT group name prefix\n          </label>\n          <input id="groupName" name="groupName" type="text" class="form-control" ng-model="vm.settings.values.groupName">\n          <c8y-error-feedback field="vm.settings.form.groupName">\n          </c8y-error-feedback>\n        </div>\n      </div>\n      <div class="card-footer">\n        <button type="button" class="btn btn-danger" ng-show="vm.settings.stored" ng-disabled="!vm.settings.stored" ng-click="vm.remove()" translate>\n          Delete credentials\n        </button>\n        <button type="submit" class="btn btn-primary" ng-disabled="vm.settings.form.$invalid" translate>\n          Save credentials\n        </button>\n      </div>\n    </form>\n  </div>\n</div>\n',t.put("core_impactSettings/impactSettings.html",e),t.put("/apps/core/impactSettings/impactSettings.html",e)}angular.module("c8y.impactSettings").run(["$templateCache",t])}();